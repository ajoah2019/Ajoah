webpackJsonp([1],{"0goD":function(t,e){},Ewcx:function(t,e,s){t.exports=s.p+"static/img/chatbot_2.5b8aafe.png"},FNOj:function(t,e,s){t.exports=s.p+"static/img/toilet_on_low.f0911b6.jpg"},MTMH:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i=s("NYxO"),a=s("yviF");s("dih4"),s("881v");a.initializeApp({apiKey:"AIzaSyDD84-nLqygHpqVN7jlZOjgZ4one6TdyUc",authDomain:"ajoah-2121f.firebaseapp.com",databaseURL:"https://ajoah-2121f.firebaseio.com",projectId:"ajoah-2121f",storageBucket:"ajoah-2121f.appspot.com",messagingSenderId:"512593003059",appId:"1:512593003059:web:a253df39ea0bd93b585946"});var o=a.firestore(),r=s("kxiW"),l=s.n(r);window.$=window.jQuery=window.jquery=s("7t+N");var c={name:"Navbar",data:function(){return{user:null,toilet_nav_reserves:[],toilet_nickname:"",login_yubu:!1}},created:function(){var t=this;l.a.auth().onAuthStateChanged(function(e){if(e){t.user=e;e=l.a.auth().currentUser;var s=l.a.auth().currentUser.phoneNumber;console.log("phoneNumber = "+s),o.collection("users").doc(s).get().then(function(e){e.exists?(t.login_yubu=!0,t.toilet_nickname=e.data().nickname,console.log("toilet_nickname = "+t.toilet_nickname)):t.login_yubu=!1})}else t.user=null})},mounted:function(){},methods:{dropdown:function(){var t=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(t,{alignment:"left",autoTrigger:!0})},showReserve:function(){var t=this;this.toilet_nav_reserves.splice(0),o.collection("reservation").get().then(function(e){e.forEach(function(e){var s=e.data();t.toilet_nav_reserves.push(s)})})},SetProfile:function(){this.$router.push({path:"/setProfile"})},SetPassword:function(){this.$router.push({path:"/setPassword"})},logout:function(){var t=this;l.a.auth().signOut().then(function(){t.$router.push({path:"/login"}),localStorage.removeItem("ajoah_pw"),localStorage.removeItem("ajoah_auto_login"),window.location.reload()})},showAbout:function(){this.about_view=!0},closeAbout:function(){this.about_view=!1},goMain:function(){this.$router.push({path:"/index"})},refresh:function(){var t=this,e=this;l.a.auth().currentUser;l.a.auth().onAuthStateChanged(function(s){s?e.$router.push({name:"Index"}):t.$router.push({path:"/"}).catch(function(t){})})}}};document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(t,{alignment:"left",autoTrigger:!0})});var u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"navbar-fixed"},[s("nav",{staticClass:"nav-wrapper indigo"},[s("div",{staticClass:"container"},[s("a",{staticClass:"brand-logo",attrs:{href:"#"}},[t._v("AJOAH~!")]),t._v(" "),t.user?s("a",{staticClass:"sidenav-trigger",attrs:{href:"#","data-target":"mobile-links_login"}},[s("i",{staticClass:"material-icons"},[t._v("menu")])]):s("a",{staticClass:"sidenav-trigger",attrs:{href:"#","data-target":"mobile-links_init"}},[s("i",{staticClass:"material-icons"},[t._v("menu")])]),t._v(" "),s("ul",{staticClass:"right hide-on-med-and-down"},[t.user?t._e():s("li",{staticClass:"sidenav-close"},[s("router-link",{attrs:{to:{name:"Signup_1"}}},[t._v("회원가입")])],1),t._v(" "),t.user?t._e():s("li",{staticClass:"sidenav-close"},[s("router-link",{attrs:{to:{name:"Login"}}},[t._v("로그인")])],1),t._v(" "),t.user?s("li",{staticClass:"sidenav-close"},[s("a",{staticClass:"dropdown-trigger",attrs:{href:"#","data-target":"dropdown1"}},[t._v(t._s(this.toilet_nickname))])]):t._e(),t._v(" "),t.user?s("li",{staticClass:"sidenav-close"},[s("a",{on:{click:function(e){return t.logout()}}},[t._v("로그아웃")])]):t._e(),t._v(" "),t._m(0)])])])]),t._v(" "),s("ul",{staticClass:"sidenav",attrs:{id:"mobile-links_init"}},[s("li",{staticClass:"sidenav-close",on:{click:function(e){return t.closeAbout()}}},[s("router-link",{attrs:{to:{name:"Signup_1"}}},[t._v("회원가입")])],1),t._v(" "),s("li",{staticClass:"sidenav-close",on:{click:function(e){return t.closeAbout()}}},[s("router-link",{attrs:{to:{name:"Login"}}},[t._v("로그인")])],1),t._v(" "),t._m(1)]),t._v(" "),s("ul",{staticClass:"sidenav",attrs:{id:"mobile-links_login"}},[s("li",[s("a",{staticClass:"dropdown-trigger",attrs:{href:"#","data-target":"dropdown1"}},[t._v(t._s(this.toilet_nickname))])]),t._v(" "),s("li",{staticClass:"sidenav-close"},[s("a",{on:{click:function(e){return t.logout()}}},[t._v("로그아웃")])]),t._v(" "),t._m(2)]),t._v(" "),s("ul",{staticClass:"dropdown-content",staticStyle:{top:"50px"},attrs:{id:"dropdown1"}},[s("li",[s("a",{staticClass:"sidenav-close",attrs:{href:"#"},on:{click:t.SetProfile}},[s("i",{staticClass:"material-icons"},[t._v("face")]),t._v("이름(닉네임)변경")])]),t._v(" "),s("li",[s("a",{staticClass:"sidenav-close",attrs:{href:"#"},on:{click:t.SetPassword}},[s("i",{staticClass:"material-icons"},[t._v("https")]),t._v("패스워드변경")])])]),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"sidenav-close modal-trigger",attrs:{href:"#about"}},[this._v("About")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"sidenav-close modal-trigger",attrs:{href:"#about"}},[this._v("About")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"sidenav-close"},[e("a",{staticClass:"sidenav-close modal-trigger",attrs:{href:"#about"}},[this._v("About")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",staticStyle:{padding:"0 0 0 0"},attrs:{id:"about"}},[n("div",{staticClass:"modal-content",staticStyle:{margin:"0",padding:"0 0 0 0"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col s12 m7"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-image"},[n("img",{attrs:{src:s("wPIB")}})]),t._v(" "),n("div",{staticClass:"card-content center-align",staticStyle:{padding:"20px 5px 5px 5px"}},[n("span",{staticStyle:{"font-size":"19px"}},[t._v("Ajoah에 오신 것을 환영합니다.")])]),t._v(" "),n("div",{staticClass:"card-content center-left",staticStyle:{margin:"5px 5px 5px 5px",padding:"5px 5px 5px 5px"}},[n("p",{staticStyle:{"font-size":"13px"}},[t._v("* 만든이: 송준수, 윤경민, 정종현"),n("br"),t._v("\r\n                        * 만든날짜: 2019년 10월")])]),t._v(" "),n("div",{staticClass:"card-action center-left",staticStyle:{margin:"5px 5px 5px 5px",padding:"5px 5px 5px 5px"}},[n("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"}},[t._v("Copyright 2019. 송-윤-정. All Right Reserved. ")])])])])])]),t._v(" "),n("div",{staticClass:"modal-footer",staticStyle:{margin:"0",padding:"0 0 0 0"}},[n("a",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{href:"#"}},[t._v("확인")])])])}]};var d=s("VU/8")(c,u,!1,function(t){s("QRAE")},null,null).exports;n.a.use(i.a);var h={store:new i.a.Store({state:{select_view:!1},mutations:{select_view_true:function(t){t.select_view=!0},select_view_false:function(t){t.select_view=!1}}}),name:"App",data:function(){return{select_view:!1}},mounted:function(){},props:["user"],components:{Navbar:d}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Navbar",{attrs:{select_view:this.select_view}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=s("VU/8")(h,v,!1,function(t){s("jAV0")},null,null).exports,_=s("/ocq"),m=s("fZjL"),f=s.n(m),g=s("PJh5"),w=s.n(g),C=s("162o");window.$=window.jQuery=window.jquery=s("7t+N");var b={},x={},j=window.localStorage,y={name:"Index",data:function(){return{toilet_currents_state:[],toilet_reserves:[],toilet_noties:[],toilet_noties_cnt:0,toilet_selected_nm:"",toilet_selected_val:"",nickname:null,phone_num:null,feedback:null,showPreloader:!1,chkResolve:!0,toilet_possible_yubu:!0,toilet_reserve_nickname:"",toilet_reserve_phone_no:"",toilet_reserve_seq:0,toilet_reserves_cnt:0,toilet_current_using_state:0,publicPath:Object({NODE_ENV:"production"}).BASE_URL,toilet_ing:Object({NODE_ENV:"production"}).BASE_URL+"static/img/toilet_ing_6_low.jpg",toilet_empty:Object({NODE_ENV:"production"}).BASE_URL+"static/img/toilet_low.jpg"}},created:function(){var t=this;this.$store.commit("select_view_true");this.toilet_ing=Object({NODE_ENV:"production"}).BASE_URL+"static/img/toilet_ing_6_low.jpg",this.toilet_empty=Object({NODE_ENV:"production"}).BASE_URL+"static/img/toilet_low.jpg";a.auth().currentUser;a.auth().onAuthStateChanged(function(e){e?t.user=e:t.$router.push({name:"Login"})})},mounted:function(){var t=this;$(document).ready(function(){$("select").formSelect()}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("select");M.FormSelect.init(t,{classes:"",dropdownOptions:{}})});var e=document.getElementById("toilet_select");console.log("# MOUNTED #");var s=j.getItem("key_select_value");null==s&&j.setItem("key_select_value",e.options[e.selectedIndex].value),console.log(s);for(var n,i=e.options,a=0;n=i[a];a++)if(n.value==s){e.selectedIndex=a;break}var r=e.options[e.selectedIndex].value,l=e.options[e.selectedIndex].text;this.toilet_selected_val=r,this.toilet_selected_nm=l;var c=o.collection("current");console.log("mounted"),x={},b={},c.onSnapshot(function(e){e.docChanges().forEach(function(t){if(console.log("###################################"),console.log(t.type),console.log("###################################"),"added"===t.type){var e=t.doc.data();e.usage=0,e.elapsedTime="",b[e.id]=e,null==x[e.group]&&(x[e.group]=[]),x[e.group].push(e)}if("modified"===t.type){console.log("modified : ",t.doc.data());var s=f()(t.doc.data()),n=t.doc.data();s.forEach(function(t){b[n.id][t]!=n[t]&&(b[n.id][t]=n[t])})}}),t.chkReserve(),t.doJohoi(),t.doDrawToilet()}),this.select_view=!0,console.log("this.select_view"+this.select_view),this.showNoties()},methods:{onChange:function(t){console.log(" # INIT CHANGE # "),this.showPreloader=!0,this.doDrawToilet();var e=document.getElementById("toilet_select");j.setItem("key_select_value",e.options[e.selectedIndex].value)},doDrawToilet:function(){var t=this,e=document.getElementById("toilet_select"),s=e.options[e.selectedIndex].value,n=e.options[e.selectedIndex].text;this.toilet_selected_val=s,this.toilet_selected_nm=n,this.toilet_currents_state.splice(0),console.log("# DO DRAW TOILET #"),console.log(x),null==x[this.toilet_selected_val]?this.toilet_possible_yubu=!1:(this.toilet_possible_yubu=!0,x[this.toilet_selected_val].forEach(function(e){t.toilet_currents_state.push(e)}))},doJohoi:function(){new Date;var t=w()().format("YYYY-MM-DD");console.log("today ==> "+t),o.collection("statics").doc("usage").get().then(function(e){if(e.exists){var s=e.data();console.log(s);var n=f()(s[t]);console.log("# START #"),n.forEach(function(e){null!=b[e]&&(b[e].usage=s[t][e])}),console.log("# END #")}})},showReserve:function(){var t=this;this.toilet_reserves.splice(0);var e=document.getElementById("toilet_select"),s=e.options[e.selectedIndex].value,n=e.options[e.selectedIndex].text;this.toilet_selected_val=s,this.toilet_selected_nm=n,o.collection("reservation").where("location","==",this.toilet_selected_val).get().then(function(e){e.forEach(function(e){var s=e.data();console.log("sjs ===> toilet_reserve = "+e.data().nickname),t.toilet_reserves.push({location:s.location,nickname:s.nickname,phone_num:s.phone_num,resv_channel:s.resv_channel,resv_dttm:w()(s.resv_dttm).format("MM/DD HH:mm"),seq:s.seq})});var s=document.querySelector("#view_reservation");M.Modal.init(s).open()})},showNoties:function(){var t=this;this.toilet_noties.splice(0);var e=document.getElementById("toilet_select"),s=e.options[e.selectedIndex].value,n=e.options[e.selectedIndex].text;this.toilet_selected_val=s,this.toilet_selected_nm=n;var i=0;o.collection("noties").orderBy("send_datetime","desc").get().then(function(e){t.toilet_noties_cnt=e.size,console.log("this.toilet_noties_cnt = "+t.toilet_noties_cnt),e.forEach(function(e){var s=e.data(),n=w()(s.send_datetime,"YYYY-MM-DD hh:mm:ss");i<5&&(t.toilet_noties.push({channel:s.channel,nickname:s.nickname,send_datetime:n.format("MM/DD HH:mm"),send_message:s.send_message,send_type:s.send_type,sms_phone_number:s.sms_phone_number,users_fid:s.users_fid,id:e.id}),i+=1,console.log("this.cnt = "+i))})})},ChkTest:function(){console.log("------------"),console.log(b),b["Y7.M.01"].using?b["Y7.M.01"].using=!1:b["Y7.M.01"].using=!0},chkReserve:function(){var t=this,e=(a.auth().currentUser,a.auth().currentUser.phoneNumber);console.log("phoneNumber = "+e),o.collection("reservation").doc(e).get().then(function(e){e.exists?t.chkResolve=!1:t.chkResolve=!0,console.log("this.chkResolve : "+t.chkResolve)})},cancelReserve:function(){var t=this,e=(a.auth().currentUser,a.auth().currentUser.phoneNumber);console.log("phoneNumber = "+e),o.collection("reservation").doc(e).delete().then(function(e){console.log("Document successfully deleted!"),M.toast({html:"예약 취소 되었습니다.",classes:"rounded"}),t.chkResolve=!0}).catch(function(t){console.error("Error removing document: ",t),this.chkResolve=!1})},DoReserve:function(){var t=this;o.collection("current").where("group","==",this.toilet_selected_val).where("using","==",!1).get().then(function(e){if(t.toilet_current_using_state=e.size,t.toilet_current_using_state>0)M.toast({html:"지금 화장실이 비어있어요. 바로 달려가세요~",classes:"rounded"});else{a.auth().currentUser;var s=a.auth().currentUser.phoneNumber;console.log("phoneNumber = "+s),o.collection("users").doc(s).get().then(function(e){e.exists?(t.toilet_reserve_nickname=e.data().nickname,t.toilet_reserve_phone_no=e.data().sms_phone_number,console.log("toilet_reserve_nickname = "+t.toilet_reserve_nickname),console.log("toilet_reserve_phone_no = "+t.toilet_reserve_phone_no),o.collection("reservation").where("location","==",t.toilet_selected_val).get().then(function(e){t.toilet_reserve_seq=e.size+1,console.log("this.toilet_reserve_seq = "+t.toilet_reserve_seq),o.collection("reservation").doc(s).set({nickname:t.toilet_reserve_nickname,phone_num:t.toilet_reserve_phone_no,resv_dttm:Date.now(),resv_channel:"MobileWeb",location:t.toilet_selected_val,seq:t.toilet_reserve_seq}).catch(function(t){console.log(t)}),M.toast({html:"예약 신청 되었습니다.",classes:"rounded"}),t.chkResolve=!1})):alert("회원가입이 되어 있지 않습니다.")})}})}}};function k(t){if(null==t)return"X";var e=10==t.toString().length?1e3*t:t,s=parseInt(((new Date).getTime()-e)/1e3);return s<60?"방금 전":s<3600?parseInt(s/60)+"분 경과":s<86400?parseInt(s/60/60)+"시간 경과":"하루 이상 경과"}Object(C.setInterval)(function(){for(var t in b){var e=w()(b[t].using_from,"YYYY-MM-DD hh:mm:ss");1==b[t].using&&null!=b[t].using_from?b[t].elapsedTime=k(e.unix()):b[t].elapsedTime=""}},1e3),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".fixed-action-btn");M.FloatingActionButton.init(t,{direction:"top"})}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".modal");M.Modal.init(t,{opacity:.5})});var S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"row",staticStyle:{padding:"0",margin:"0"}},[n("div",{staticClass:"input-field col s12",staticStyle:{padding:"5px 0 0 0",margin:"0"}},[n("select",{attrs:{id:"toilet_select"},on:{change:function(e){return t.onChange(e)}}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])])]),t._v(" "),n("div",{staticClass:"row",staticStyle:{padding:"0",margin:"0"}},[n("div",{staticClass:"col s12",staticStyle:{padding:"0",margin:"0"}},[t.toilet_possible_yubu?t._e():n("div",{staticClass:"row"},[t._m(4)]),t._v(" "),t.toilet_possible_yubu?n("div",{staticClass:"row"},[n("div",{staticClass:"col s12 m12 l12"},[n("div",{staticClass:"card blue-grey darken-1"},[n("div",{staticClass:"grey lighten-5",staticStyle:{padding:"10px 10px"}},[n("div",{staticClass:"row valign-wrapper",staticStyle:{margin:"0px"}},[n("div",{staticClass:"col s6 left",staticStyle:{margin:"0px"}},[n("span",{staticClass:"card-title"},[t._v(t._s(t.toilet_selected_nm))])]),t._v(" "),n("div",{staticClass:"col s4",staticStyle:{padding:"0 0 0 20px"}})])]),t._v(" "),n("div",{staticClass:"card-panel z-depth-0",staticStyle:{padding:"3px 5px 0 7px",margin:"2px 0 0px 0"}},[n("div",{staticClass:"row"},t._l(t.toilet_currents_state,function(e){return n("div",{key:e.id,staticClass:"col s6 m6 l6 z-depth-0"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-image z-depth-0"},[e.using?n("img",{attrs:{src:s("FNOj"),alt:""}}):n("img",{attrs:{src:s("xQQA"),alt:""}}),t._v(" "),e.using?n("a",{staticClass:"halfway-fab btn-floating red pulse"},[n("i",{staticClass:"material-icons"},[t._v("clear")])]):n("a",{staticClass:"halfway-fab btn-floating green pulse"},[n("i",{staticClass:"material-icons"},[t._v("sentiment_satisfied_alt")])])]),t._v(" "),n("div",{staticClass:"card z-depth-0",staticStyle:{padding:"24px 0"}},[n("div",{staticClass:"row valign-wrapper z-depth-0",staticStyle:{margin:"0px",height:"30px"}},[e.using?n("div",{staticClass:"col s2 left z-depth-0",staticStyle:{margin:"0px"}},[n("span",{staticClass:"orange-text text-darken-3",staticStyle:{"font-size":"25px"}},[t._v(t._s(e.name))])]):n("div",{staticClass:"col s2 left z-depth-0",staticStyle:{margin:"0px"}},[n("span",{staticClass:"green-text text-darken-2",staticStyle:{"font-size":"25px"}},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"col s10 z-depth-0",staticStyle:{padding:"0 0 0 20px"}},[e.using?n("span",{staticClass:"black-text"},[n("a",{staticClass:"orange-text text-darken-3",attrs:{href:"#"}},[t._v("· 금일 "+t._s(e.usage)+"명 이용")]),n("br"),t._v(" "),n("a",{staticClass:"orange-text text-darken-3",attrs:{href:"#"}},[t._v("· "+t._s(e.elapsedTime))])]):n("span",{staticClass:"black-text"},[n("a",{staticClass:"green-text text-darken-2",attrs:{href:"#"}},[t._v("· 금일 "+t._s(e.usage)+"명 이용")]),n("br")])])])])])])}),0)])])])]):t._e()])])]),t._v(" "),n("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown_reserve"}},[t.chkResolve?n("li",[n("a",{staticClass:"modal-trigger",staticStyle:{"font-size":"13px"},attrs:{href:"#reserveconfirm"}},[t._v("알림요청")])]):t._e(),t._v(" "),t.chkResolve?t._e():n("li",[n("a",{staticClass:"modal-trigger",staticStyle:{"font-size":"13px"},attrs:{href:"#cancelreserveconfirm"}},[t._v("알림취소")])]),t._v(" "),n("li",[n("a",{staticStyle:{"font-size":"13px"},attrs:{href:"#"},on:{click:function(e){return t.showReserve()}}},[t._v("요청자보기")])])]),t._v(" "),t.toilet_possible_yubu?n("div",{staticClass:"container"},[n("h6",[t._v("✽ 공개 메세지")]),t._v(" "),t._l(t.toilet_noties,function(e){return n("div",{key:e.id,staticClass:"container"},[n("blockquote",[t._v(t._s(e.send_message))]),t._v(" "),n("div",[t._v("\n                 \n                "),n("span",{staticClass:"right grey lighten-4 aj-shout-speaker"},[t._v(t._s(e.nickname)+" "+t._s(e.send_datetime))])]),t._v(" "),n("div",{staticClass:"divider",staticStyle:{margin:"5px"}})])})],2):t._e(),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),n("div",{staticClass:"modal",attrs:{id:"reserveconfirm"}},[n("div",{staticClass:"modal-content"},[n("p",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.toilet_selected_nm)+" 빈칸알림 신청하시겠습니까?")])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("a",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{href:"#!"}},[t._v("취소")]),t._v(" "),n("a",{staticClass:"modal-close waves-effect waves-green btn-flat",on:{click:function(e){return t.DoReserve()}}},[t._v("확인")])])]),t._v(" "),n("div",{staticClass:"modal",attrs:{id:"cancelreserveconfirm"}},[n("div",{staticClass:"modal-content"},[n("p",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.toilet_selected_nm)+" 빈칸알림 취소하시겠습니까?")])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("a",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{href:"#!"}},[t._v("취소")]),t._v(" "),n("a",{staticClass:"modal-close waves-effect waves-green btn-flat",on:{click:function(e){return t.cancelReserve()}}},[t._v("확인")])])]),t._v(" "),n("div",{staticClass:"modal bottom-sheet",attrs:{id:"view_reservation"}},[n("ul",{staticClass:"collection with-header"},[n("li",{staticClass:"collection-header"},[n("h4",[t._v(t._s(t.toilet_selected_nm)+" 예약자")])]),t._v(" "),t._l(t.toilet_reserves,function(e){return n("li",{key:e.id,staticClass:"collection-item avatar"},[n("i",{staticClass:"material-icons circle blue"},[t._v("person")]),t._v(" "),n("span",{staticClass:"title"},[t._v(t._s(e.nickname))]),t._v(" "),n("p",{staticClass:"grey-text"},[t._v(t._s(e.resv_channel))]),t._v(" "),n("p",{staticClass:"grey-text"},[t._v(t._s(e.resv_dttm))])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("optgroup",{attrs:{label:"연호빌딩 7층"}},[e("option",{attrs:{value:"Y7.M",selected:""}},[this._v("연호7층 남자")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("optgroup",{attrs:{label:"연호빌딩 8층"}},[e("option",{attrs:{value:"Y8.M",selected:""}},[this._v("연호8층 남자")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("optgroup",{attrs:{label:"부영빌딩 17층"}},[e("option",{attrs:{value:"B17.M"}},[this._v("부영17층 남자")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("optgroup",{attrs:{label:"부영빌딩 18층"}},[e("option",{attrs:{value:"B18.M"}},[this._v("부영18층 남자")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s12 m12 l12"},[e("div",{staticClass:"card blue-grey darken-1"},[e("div",{staticClass:"grey lighten-5",staticStyle:{padding:"10px 10px"}},[e("div",{staticClass:"row valign-wrapper",staticStyle:{margin:"0",padding:"0"}},[e("div",{staticClass:"col s12 left",staticStyle:{margin:"0px",padding:"0"}},[e("span",{staticClass:"card-title",staticStyle:{"font-size":"18px"}},[this._v("서비스 미지원 화장실 입니다.")])]),this._v(" "),e("div",{staticClass:"col s4",staticStyle:{padding:"0 0 0 20px"}})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",staticStyle:{margin:"10px"}},[e("div",{staticClass:"container"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col s12 m12 l12"},[n("div",{staticClass:"card blue-grey darken-1"},[n("div",{staticClass:"grey lighten-5 z-depth-1",staticStyle:{padding:"10px 10px"}},[n("span",{staticClass:"card-title"},[t._v("Ajoah 챗봇을 이용해 보세요.")])]),t._v(" "),n("div",{staticClass:"card-panel grey lighten-5 z-depth-1",staticStyle:{padding:"3px 5px 0 7px",margin:"2px 0 0px 0"}},[n("ul",{staticStyle:{"list-style":"disc"}},[n("li",[t._v("· 챗봇으로 더 편리하게 이용")]),t._v(" "),n("li",[t._v("· 빠른 예약및 실시간 알림")]),t._v(" "),n("li",[t._v("· 공개메시지 발송 가능")])]),t._v(" "),n("div",{staticClass:"row valign-wrapper",staticStyle:{margin:"0px",padding:"0 0 10px 0"}},[n("div",{staticClass:"col s2"},[n("img",{staticClass:"circle responsive-img",attrs:{src:s("Ewcx"),alt:""}})]),t._v(" "),n("div",{staticClass:"col s10"},[n("span",{staticClass:"black-text"},[n("a",{staticClass:"waves-effect waves-purple btn-small",attrs:{href:"https://t.me/ajoah_bot",target:"_blank"}},[n("i",{staticClass:"material-icons right"},[t._v("send")]),t._v("챗봇 바로가기")])])])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"page-footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col l6 s12"},[e("h6",{staticClass:"white-text"},[this._v("Ajoah는 여러분의 쾌적한 화장실")]),this._v(" "),e("h6",{staticClass:"white-text"},[this._v("이용을 응원합니다!")])])])]),this._v(" "),e("div",{staticClass:"footer-copyright"},[e("div",{staticClass:"container"},[this._v("\n           Copyright 2019. 송-윤-정. All Right Reserved.\n            ")])])])}]};var N=s("VU/8")(y,S,!1,function(t){s("iglz")},null,null).exports,E=window.localStorage,P={data:function(){return{phNo:"",password:""}},created:function(){this.$store.commit("select_view_false"),"true"==E.getItem("ajoah_auto_login")&&this.login()},methods:{login:function(){this.$router.push({path:"/login"})},signup:function(){this.$router.push({path:"/signup_1"})}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m7"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"card-action center-align"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.signup()}}},[t._v("회원가입")]),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(e){return t.login()}}},[t._v("로그인")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image"},[e("img",{attrs:{src:s("wPIB")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-content center-align",staticStyle:{padding:"20px 5px 5px 5px"}},[e("span",{staticStyle:{"font-size":"19px"}},[this._v("Ajoah에 오신 것을 환영합니다.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-content center-align",staticStyle:{margin:"5px 5px 5px 5px",padding:"5px 5px 5px 5px"}},[e("p",{staticStyle:{"font-size":"13px"}},[this._v("Ajoah 서비스를 사용하시려면 회원가입이 필요합니다."),e("br"),this._v("\r\n          회원가입이 되어 있으시면 로그인하여 사용해 주세요.")])])}]},R=s("VU/8")(P,z,!1,null,null,null).exports,D=s("bOdI"),I=s.n(D),A=(s("wffv"),I()({name:"Signup_1",data:function(){return{email:null,password:null,alias:null,feedback:null,slug:null,phNo:null,appVerifier:"",otp:"",answer:"",nickname:"",vefication_code:!1,gaipPos:""}},created:function(){this.gaipPos="",this.$store.commit("select_view_false")},methods:{getChk:function(t){console.log(t+"--"+t.length),t.length>=3&&(this.gaipPos="준경종"!=t?"틀렸습니다.":"정답입니다.")},getPhoneChk:function(t){var e=this.getGaipYubu(t);this.gaipPos=e},getGaipYubu:function(t){if(!t)return t;return(t=t.replace(/[^0-9]/g,"")).length<3||("02"==t.substr(0,2)?t.length<=5||t.length>5&&t.length<=9||t.length:t.length>9&&this.chksignup()),""},chksignup:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){e.exists?t.gaipPos="이미 회원가입 되어 있습니다.":t.gaipPos="회원가입 가능합니다."})},signup:function(){var t=this,e=this,s="+82"+this.phNo.substring(1),n=o.collection("users").doc(s);n.get().then(function(s){s.exists?alert(t.phNo+" 핸드폰번호로 이미 가입 되었습니다."):n.set({nickname:t.nickname,reg_datetime:Date.now(),sms_phone_number:t.phNo,sms_auth_number:t.otp,sms_auth_yn:"Y",noti_req_channel:"MobileWeb",sms_auth_datetime:Date.now()}).then(function(){console.log("Document successfully written!"),M.toast({html:"회원 가입 되었습니다. 패스워드를 설정해 주세요.",classes:"rounded"}),e.$router.push({path:"/setPassword"})}).catch(function(t){console.error("Error writing document: ",t)})})},sendOtp:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){if(e.exists)M.toast({html:"핸드폰번호로 이미 가입 되었습니다.<br/>로그인화면으로 이동합니다.",classes:"rounded"}),t.$router.push({path:"/login"});else if(0==t.phNo.length)alert("핸드폰번호를 입력해 주세요!");else if(t.phNo.length<10)alert("올바른 핸드폰번호인지 확인해 주세요. ["+t.phNo.length+"]");else{var s="+82"+t.phNo,n=t.appVerifier;a.auth().signInWithPhoneNumber(s,n).then(function(t){window.confirmationResult=t,this.vefication_code=!0}).catch(function(t){})}})},verifyOtp:function(){if("준경종"!=this.answer)alert("가입질문 힌트를 확인하시어 3자리 가입질문 답을 입력해 주세요.\n(힌트 : 송*수, 윤*민, 정*현)");else{M.toast({html:"정답입니다. 회원가입해주세요..",classes:"rounded"}),this.$router.push({name:"Signup"})}}}},"created",function(){})),O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{attrs:{id:"recaptcha-container"}}),t._v(" "),s("form",{staticClass:"card-panel",on:{submit:function(e){return e.preventDefault(),t.verifyOtp(e)}}},[s("h4",{staticClass:"center deep-purple-text"},[t._v("Ajoah 회원가입 1단계")]),t._v(" "),s("div",{staticStyle:{height:"30px"}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[t._m(0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{id:"answer",type:"text",value:"","data-length":"3"},domProps:{value:t.answer},on:{keyup:function(e){return t.getChk(t.answer)},input:function(e){e.target.composing||(t.answer=e.target.value)}}}),t._v(" "),s("span",{staticClass:"helper-text",attrs:{"data-error":"wrong","data-success":"right"}})])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"answer"}},[this._v("가입질문 : AJOAH 만든이 3명의 중간글자를 입력하세요."),e("br"),this._v("(힌트 : 송*수, 윤*민, 정*현)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field center"},[e("button",{staticClass:"btn deep-purple"},[this._v("질문에 답하기")])])}]};var U=s("VU/8")(A,O,!1,function(t){s("MTMH")},null,null).exports,V=I()({name:"Signup",data:function(){return{email:null,password:null,alias:null,feedback:null,slug:null,phNo:null,appVerifier:"",otp:"",answer:"",nickname:"",vefication_code:!1,gaipPos:""}},created:function(){this.$store.commit("select_view_false")},methods:{getPhoneChk:function(t){var e=this.getGaipYubu(t);this.gaipPos=e},getGaipYubu:function(t){if(!t)return t;return(t=t.replace(/[^0-9]/g,"")).length<3||("02"==t.substr(0,2)?t.length<=5||t.length>5&&t.length<=9||t.length:t.length>9&&this.chksignup()),""},chksignup:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){e.exists?t.gaipPos="이미 회원가입 되어 있습니다.":t.gaipPos="회원가입 가능합니다."})},signup:function(){var t=this,e=this,s="+82"+this.phNo.substring(1),n=o.collection("users").doc(s);n.get().then(function(s){s.exists?alert(t.phNo+" 핸드폰번호로 이미 가입 되었습니다."):n.set({nickname:t.nickname,reg_datetime:Date.now(),sms_phone_number:t.phNo,sms_auth_number:t.otp,sms_auth_yn:"Y",noti_req_channel:"MobileWeb",sms_auth_datetime:Date.now()}).then(function(){console.log("Document successfully written!"),M.toast({html:"회원 가입 되었습니다. 패스워드를 설정해 주세요.",classes:"rounded"}),e.$router.push({path:"/setPassword"})}).catch(function(t){console.error("Error writing document: ",t)})})},sendOtp:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){if(e.exists)M.toast({html:"핸드폰번호로 이미 가입 되었습니다.<br/>로그인화면으로 이동합니다.",classes:"rounded"}),t.$router.push({path:"/login"});else if(0==t.phNo.length)alert("핸드폰번호를 입력해 주세요!");else if(t.phNo.length<10)alert("올바른 핸드폰번호인지 확인해 주세요. ["+t.phNo.length+"]");else{var s="+82"+t.phNo,n=t.appVerifier;a.auth().signInWithPhoneNumber(s,n).then(function(t){window.confirmationResult=t,console.log("window.confirmationResult"+window.confirmationResult),console.log("confirmationResult"+t),this.vefication_code=!0}).catch(function(t){})}})},verifyOtp:function(){if(this.vefication_code)alert("인증코드 받기를 먼저 진행해 주세요.");else if(this.phNo.length<10)alert("핸드폰번호를 올바르게 입력해 주세요.");else if(6!=this.otp.length)alert("인증코드 6자리를 입력해 주세요.");else{var t=this.otp;this.signup(),console.log("code :"+t),window.confirmationResult.confirm(t).then(function(t){t.user;this.signup(),console.log("Success")}).catch(function(t){console.log("Fail")})}},initReCaptcha:function(){var t=this;setTimeout(function(){window.recaptchaVerifier=new a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(t){},"expired-callback":function(){}}),t.appVerifier=window.recaptchaVerifier},1e3)}}},"created",function(){this.initReCaptcha()}),q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{attrs:{id:"recaptcha-container"}}),t._v(" "),s("form",{staticClass:"card-panel",on:{submit:function(e){return e.preventDefault(),t.verifyOtp(e)}}},[s("h4",{staticClass:"center deep-purple-text"},[t._v("Ajoah 회원가입 2단계")]),t._v(" "),s("div",{staticStyle:{height:"30px"}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"nickname"}},[t._v("이름(별명)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"validate",attrs:{id:"nickname",type:"text","data-length":"30"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"phNo"}},[t._v("핸드폰번호")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phNo,expression:"phNo"}],staticClass:"validate",attrs:{id:"phNo",type:"number","data-length":"12"},domProps:{value:t.phNo},on:{keyup:function(e){return t.getPhoneChk(t.phNo)},input:function(e){e.target.composing||(t.phNo=e.target.value)}}}),t._v(" "),s("span",{staticClass:"red-text text-accent-4",attrs:{id:"#help"}},[t._v(t._s(this.gaipPos))])]),t._v(" "),s("div",{staticClass:"field right"},[s("a",{staticClass:"waves-effect waves-teal btn-flat",on:{click:t.sendOtp}},[t._v("인증코드받기")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"otp"}},[t._v("인증코드")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],attrs:{id:"otp",type:"number",value:""},domProps:{value:t.otp},on:{input:function(e){e.target.composing||(t.otp=e.target.value)}}})])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field center"},[e("button",{staticClass:"btn deep-purple"},[this._v("회원가입 하기")])])}]};var L=s("VU/8")(V,q,!1,function(t){s("vD7T")},null,null).exports,F={data:function(){return{password:"",password_2:""}},created:function(){this.$store.commit("select_view_false")},methods:{setPassword:function(){if(this.password!=this.password_2)alert("입력하신 비밀번호와 확인 비밀번호가 일치 하지 않습니다.");else if(this.password.length<6)alert("패스워드가 너무 짧습니다. 패스워드는 적어도 6자리 이상 입력해 주세요.");else{var t=this,e=a.auth().currentUser,s=a.auth().currentUser.phoneNumber+"@ajoah2019.com";console.log("newEmail"+s);var n=this.password;e.updateEmail(s).then(function(){e.updatePassword(n).then(function(){alert("패스워드 설정이 성공했습니다. 앞으로는 핸드폰번호와 설정하신 비밀번호로 로그인이 가능합니다."),t.$router.push({path:"/login"}),window.location.reload()}).catch(function(t){alert("Error :"+t.message)})}).catch(function(e){"auth/requires-recent-login"==e.code&&(alert("세션이 만료 되었습니다. 재 접속해 주세요."),t.signout())})}},signout:function(){a.auth().signOut(),this.$router.push({path:"/"}),window.location.reload()}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup container"},[s("form",{staticClass:"card-panel",on:{submit:function(e){return e.preventDefault(),t.setPassword(e)}}},[s("h3",{staticClass:"center deep-purple-text"},[t._v("패스워드 설정")]),t._v(" "),s("div",{staticStyle:{height:"30px"}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"password"}},[t._v("패스워드를 입력하세요")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"password_2"}},[t._v("패스워드를 다시한번 입력하세요")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_2,expression:"password_2"}],attrs:{id:"password_2",type:"password"},domProps:{value:t.password_2},on:{input:function(e){e.target.composing||(t.password_2=e.target.value)}}})])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field center"},[e("button",{staticClass:"btn deep-purple"},[this._v("패스워드 설정하기")])])}]},Y=s("VU/8")(F,T,!1,null,null,null).exports,B=I()({name:"setProfile",data:function(){return{email:null,password:null,alias:null,feedback:null,slug:null,phNo:null,appVerifier:"",otp:"",answer:"",nickname:"",vefication_code:!1,gaipPos:""}},created:function(){var t=this;this.$store.commit("select_view_false");a.auth().currentUser;a.auth().onAuthStateChanged(function(e){e?t.user=e:(t.user=null,t.$router.push({path:"/login"}),window.location.reload())})},methods:{getPhoneChk:function(t){var e=this.getGaipYubu(t);this.gaipPos=e},getGaipYubu:function(t){if(!t)return t;return(t=t.replace(/[^0-9]/g,"")).length<3||("02"==t.substr(0,2)?t.length<=5||t.length>5&&t.length<=9||t.length:t.length>9&&this.chksignup()),""},chksignup:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){e.exists?t.gaipPos="이미 회원가입 되어 있습니다.":t.gaipPos="회원가입 가능합니다."})},changeProfile:function(){a.auth().currentUser;var t=a.auth().currentUser.phoneNumber;console.log("phoneNumber = "+t);o.collection("users").doc(t).update({nickname:this.nickname}).then(function(){var t=this;console.log("Document successfully updated!"),M.toast({html:"이름(변경)이 성공했습니다.",classes:"rounded"}),a.auth().signOut().then(function(){t.$router.push({name:"Login"}),window.location.reload()})})},sendOtp:function(){var t=this,e="+82"+this.phNo.substring(1);o.collection("users").doc(e).get().then(function(e){if(e.exists)M.toast({html:"핸드폰번호로 이미 가입 되었습니다.<br/>로그인화면으로 이동합니다.",classes:"rounded"}),t.$router.push({path:"/login"});else if(0==t.phNo.length)alert("핸드폰번호를 입력해 주세요!");else if(t.phNo.length<10)alert("올바른 핸드폰번호인지 확인해 주세요. ["+t.phNo.length+"]");else{var s="+82"+t.phNo,n=t.appVerifier;a.auth().signInWithPhoneNumber(s,n).then(function(t){window.confirmationResult=t,this.vefication_code=!0}).catch(function(t){})}})},verifyOtp:function(){if(this.vefication_code)alert("인증코드 받기를 먼저 진행해 주세요.");else if(this.phNo.length<10)alert("핸드폰번호를 올바르게 입력해 주세요.");else if(6!=this.otp.length)alert("인증코드 6자리를 입력해 주세요.");else if("준경종"!=this.answer)alert("가입질문 힌트를 확인하시어 3자리 가입질문 답을 입력해 주세요.\n(힌트 : 송*수, 윤*민, 정*현)");else{var t=this.otp;this.signup(),window.confirmationResult.confirm(t).then(function(t){t.user;this.signup(),console.log("Success")}).catch(function(t){console.log("Fail")})}},initReCaptcha:function(){var t=this;setTimeout(function(){window.recaptchaVerifier=new a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(t){},"expired-callback":function(){}}),t.appVerifier=window.recaptchaVerifier},1e3)}}},"created",function(){this.initReCaptcha()}),H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{attrs:{id:"recaptcha-container"}}),t._v(" "),s("form",{staticClass:"card-panel",on:{submit:function(e){return e.preventDefault(),t.changeProfile(e)}}},[s("h3",{staticClass:"center deep-purple-text"},[t._v("이름(별명) 변경")]),t._v(" "),s("div",{staticStyle:{height:"30px"}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"icon_prefix"}},[t._v("이름(별명)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"validate",attrs:{id:"icon_prefix",type:"text","data-length":"20"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field center"},[e("button",{staticClass:"btn deep-purple"},[this._v("변경하기")])])}]};var W=s("VU/8")(B,H,!1,function(t){s("tlSo")},null,null).exports,G=window.localStorage;window.$=window.jQuery=window.jquery=s("7t+N");var Q={data:function(){return{phNo:"",password:"",auto_login:!1}},created:function(){},mounted:function(){var t=G.getItem("phoneNo");null!=t&&(this.phNo=t);var e=G.getItem("ajoah_pw");null!=e&&(this.password=e);var s=G.getItem("ajoah_auto_login");"true"==s?($('input:checkbox[name="autologin"]').attr("checked",s),this.login()):$('input:checkbox[name="autologin"]').attr("checked",!1)},methods:{login:function(){var t=this,e="+82"+this.phNo.substring(1)+"@ajoah2019.com",s=this.password,n=(this.password,this.phNo),i=this.auto_login;$("input:checkbox[name='autologin']").each(function(){i=$(this).is(":checked")}),a.auth().signInWithEmailAndPassword(e,s).then(function(){G.setItem("phoneNo",n),G.setItem("ajoah_pw",s),G.setItem("ajoah_auto_login",i),t.$store.commit("select_view_true"),t.$router.push({path:"/index"})}).catch(function(t){t.code,t.message;for(var e=t.message.toLowerCase();-1!=e.indexOf("email");)e=e.replace("email address","phone number");alert("Error: "+e)})},goSignUp:function(){this.$router.push({path:"/signup"})}}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup container"},[s("form",{staticClass:"card-panel",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("h3",{staticClass:"center deep-purple-text"},[t._v("Ajoah 로그인")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"phNo"}},[t._v("핸드폰번호를 입력해 주세요.")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phNo,expression:"phNo"}],attrs:{id:"phNo",type:"number"},domProps:{value:t.phNo},on:{input:function(e){e.target.composing||(t.phNo=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("label",{attrs:{for:"password"}},[t._v("패스워드를 입력해 주세요.")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"field col s12"},[s("a",{staticStyle:{cursor:"hand"},on:{click:t.goSignUp}},[t._v("회원으로 가입하시려면 여기를 눌러주세요")])])]),t._v(" "),t._m(1)]),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("label",[e("input",{attrs:{type:"checkbox",name:"autologin"}}),this._v(" "),e("span",[this._v("자동로그인")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field center"},[e("button",{staticClass:"btn deep-purple"},[this._v("로그인 하기")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown1"}},[s("li",[s("a",{attrs:{href:"#!"}},[t._v("one")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#!"}},[t._v("two")])]),t._v(" "),s("li",{staticClass:"divider",attrs:{tabindex:"-1"}}),t._v(" "),s("li",[s("a",{attrs:{href:"#!"}},[t._v("three")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#!"}},[s("i",{staticClass:"material-icons"},[t._v("view_module")]),t._v("four")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#!"}},[s("i",{staticClass:"material-icons"},[t._v("cloud")]),t._v("five")])])])}]},J=s("VU/8")(Q,X,!1,null,null,null).exports,K={name:"ViewProfile",data:function(){return{profile:null,newComment:null,feedback:null,comments:[]}},created:function(){var t=this,e=o.collection("users");e.where("user_id","==",firebase.auth().currentUser.uid).get().then(function(e){e.forEach(function(e){t.user=e.data(),t.user.id=e.id})}),e.doc(this.$route.params.id).get().then(function(e){t.profile=e.data()}),o.collection("comments").where("to","==",this.$route.params.id).orderBy("time").onSnapshot(function(e){e.docChanges.forEach(function(e){"added"==e.type&&t.comments.unshift({from:e.doc.data().from,content:e.doc.data().content})})})},methods:{addComment:function(){var t=this;this.newComment?(this.feedback=null,o.collection("comments").add({to:this.$route.params.id,from:this.user.id,content:this.newComment,time:Date.now()}).then(function(e){t.newComment=null})):this.feedback="You must enter a comment to add it"}}},Z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-profile container"},[t.profile?s("div",{staticClass:"card"},[s("h2",{staticClass:"deep-purple-text center"},[t._v(t._s(t.profile.alias)+"'s Wall")]),t._v(" "),s("ul",{staticClass:"comments collection"},t._l(t.comments,function(e,n){return s("li",{key:n},[s("div",{staticClass:"deep-purple-text"},[t._v(t._s(e.from))]),t._v(" "),s("div",{staticClass:"grey-text text-darken-2"},[t._v(t._s(e.content))])])}),0),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[s("div",{staticClass:"field"},[s("label",{attrs:{for:"comment"}},[t._v("Add a comment")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],attrs:{type:"text",name:"comment"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}}),t._v(" "),t.feedback?s("p",{staticClass:"red-text center"},[t._v(t._s(t.feedback))]):t._e()])])]):t._e()])},staticRenderFns:[]};var tt=s("VU/8")(K,Z,!1,function(t){s("0goD")},null,null).exports;n.a.use(_.a);var et=new _.a({routes:[{path:"/",name:"serviceIntro",component:R},{path:"/login",name:"Login",component:J},{path:"/signup",name:"Signup",component:L},{path:"/signup_1",name:"Signup_1",component:U},{path:"/index",name:"Index",component:N},{path:"/setPassword",name:"SetPassword",component:Y},{path:"/setProfile",name:"SetProfile",component:W},{path:"/profile/:id",name:"ViewProfile",component:tt}]});s.d(e,"store",function(){return st}),n.a.config.productionTip=!1,n.a.use(i.a);var st=new i.a.Store({state:{select_view:!1},mutations:{select_view_true:function(t){t.select_view=!0},select_view_false:function(t){t.select_view=!1}}});new n.a({el:"#app",router:et,store:st,components:{App:p},template:'<App :user="user" ></App>',data:function(){return{user:{}}},methods:{getLoginStatus:function(){var t=this;l.a.auth().onAuthStateChanged(function(e){t.user=e||null})}},updated:function(){this.getLoginStatus()},created:function(){this.getLoginStatus()}})},QRAE:function(t,e){},iglz:function(t,e){},jAV0:function(t,e){},tlSo:function(t,e){},uslO:function(t,e,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return s(a(t))}function a(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id="uslO"},vD7T:function(t,e){},wPIB:function(t,e,s){t.exports=s.p+"static/img/toilet_service.e66cc64.jpg"},xQQA:function(t,e,s){t.exports=s.p+"static/img/toilet_off_low.79c370f.jpg"}},["NHnr"]);
//# sourceMappingURL=app.c3b81de378228cf8ea57.js.map